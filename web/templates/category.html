{% extends "base.html" %}

{% block title %}{{ sport_info.name }}{% endblock %}
{% block meta_description %}{{ sport_info.name }} - GoalFeed{% endblock %}

{% block content %}
{% set lang = get_lang(request) %}
<div class="gf-container gf-section">

    <!-- Header -->
    <div class="gf-category-header">
        <h1 class="gf-category-header__title">{{ ICONS.get(sport, '') | safe }} {{ sport_info.name }}</h1>
        <p class="gf-category-header__count">{{ t("category.articles_count", lang, count=total, s=('s' if total != 1 else '')) }}</p>
    </div>

    {% if articles %}

    <!-- Hero article (first one) -->
    {% set article = articles[0] %}
    {% include "partials/article_card_hero.html" %}

    <!-- Remaining articles -->
    {% if articles | length > 1 %}
    <div class="gf-grid gf-grid--3" style="margin-top: 20px;">
        {% for article in articles[1:] %}
        {% include "partials/article_card.html" %}
        {% endfor %}
    </div>
    {% endif %}

    <!-- Pagination -->
    {% if total_pages > 1 %}
    <div class="gf-pagination">
        {% if page > 1 %}
        <a href="/category/{{ sport }}?page={{ page - 1 }}" class="gf-pagination__btn">&laquo; {{ t("pagination.prev", lang) }}</a>
        {% endif %}

        <span class="gf-pagination__current">{{ page }} / {{ total_pages }}</span>

        {% if page < total_pages %}
        <a href="/category/{{ sport }}?page={{ page + 1 }}" class="gf-pagination__btn">{{ t("pagination.next", lang) }} &raquo;</a>
        {% endif %}
    </div>
    {% endif %}

    {% else %}
    <div class="gf-empty">
        <p class="gf-empty__text">{{ t("category.empty", lang, sport=sport_info.name) }}</p>
    </div>
    {% endif %}
</div>
{% endblock %}
